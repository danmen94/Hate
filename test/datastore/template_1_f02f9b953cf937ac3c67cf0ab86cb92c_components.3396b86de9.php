<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_rules_admin_components extends \\IPS\\Theme\\Template\n{\n\t\t\tfunction eventHeader( $event, $tokens ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div class='ipsMessage ipsMessage_info rulesMessage' data-controller=\"rules.admin.ui.tokens\">\n\t<span style='font-size:1.8em'>\n\t\tEvent: \nCONTENT;\n$return .= htmlspecialchars( $event->title(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t<\/span>\n\t<p>The following data is provided by this event:<\/p>\n\t\n\t<div class=\"monospace\">\n\t\t\nCONTENT;\n\n$return .= \\IPS\\rules\\Application::eventArgInfo( $event, '' );\n$return .= <<<CONTENT\n\n\t<\/div>\n\t\n\t<div class=\"tokens-toggle monospace\" style=\"margin-top:10px\">\n\t\t<strong><i class=\"fa fa-caret-right\"><\/i> Replacement Tokens<\/strong> (\nCONTENT;\n\n$return .= htmlspecialchars( count($tokens), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n tokens)\n\t<\/div>\n\t<div style=\"margin:3px 0;\">\n\t\t<i class=\"fa fa-info-circle\"><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'rules_tokens_description', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t<\/div>\n\t\n\t<ul class=\"tokens-list monospace\" style=\"display:none\">\n\t\nCONTENT;\n\nforeach ( $tokens as $token => $description ):\n$return .= <<<CONTENT\n\n\t\t<li>\nCONTENT;\n$return .= htmlspecialchars( $token, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n - \nCONTENT;\n$return .= htmlspecialchars( $description, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t<\/ul>\n\t\t\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction missingEvent( $rule ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div class='ipsMessage ipsMessage_error rulesMessage'>\n\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'rule_missing_notice', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t<ul>\n\t  <li>Event App: \nCONTENT;\n$return .= htmlspecialchars( $rule->event_app, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\n\t  <li>Event Class: \nCONTENT;\n$return .= htmlspecialchars( $rule->event_class, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\n\t  <li>Event Key: \nCONTENT;\n$return .= htmlspecialchars( $rule->event_key, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\n\t<\/ul>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction ruleChild( $rule ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div class='ipsMessage ipsMessage_warning rulesMessage'>\n\tThis rule will be evaluated only if the conditions of it's \n\t<a data-ipstooltip title='\nCONTENT;\n$return .= htmlspecialchars( $rule->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=rules&module=rules&controller=rules&do=form&id={$rule->id}&tab=conditions\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n'>parent rule<\/a> \n\tare also met.\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction ruleHeader( $rule ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div class='ipsMessage ipsMessage_success rulesMessage'>\n\t<span style='font-size:1.3em'>\n\t\tRule: <a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=rules&module=rules&controller=rules&do=form&id={$rule->id}\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n'>\nCONTENT;\n$return .= htmlspecialchars( $rule->title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\n\t<\/span>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;

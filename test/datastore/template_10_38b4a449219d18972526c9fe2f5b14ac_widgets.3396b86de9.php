<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_awards_front_widgets extends \\IPS\\Theme\\Template\n{\n\t\t\tfunction latestAwarded( $rows, $orientation='vertical' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<h3 class='ipsType_reset ipsWidget_title'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_latestAwarded', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n<div class='ipsWidget_inner'>\n    \nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\n    <div class='ipsPad_half'>\n        \nCONTENT;\n\nif ( count( $rows ) ):\n$return .= <<<CONTENT\n\n        <ul class='ipsDataList ipsDataList_reducedSpacing'>\n            \nCONTENT;\n\nforeach ( $rows as $row ):\n$return .= <<<CONTENT\n\n            \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"widgets\", \"awards\" )->latestAwardedRows( $row, $orientation );\n$return .= <<<CONTENT\n\n            \nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n        <\/ul>\n        \nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n        <p class='ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_latest_awarded', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n        \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n    <\/div>\n    \nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\nif ( count( $rows ) ):\n$return .= <<<CONTENT\n\n    <ul class='ipsList_reset'>\n        \nCONTENT;\n\nforeach ( $rows as $idx => $row ):\n$return .= <<<CONTENT\n\n        \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"widgets\", \"awards\" )->latestAwardedRows( $row, $orientation );\n$return .= <<<CONTENT\n\n        \nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n    <\/ul>\n    \nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n    <p class='ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_latest_awarded', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction latestAwardedRows( $awarded, $orientation='vertical' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$member = \\IPS\\Member::load( $awarded->member );\n$return .= <<<CONTENT\n\n<li class='ipsDataItem '>\n    <div class='ipsDataItem_icon ipsPos_top'>\n        \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $member, 'tiny' );\n$return .= <<<CONTENT\n\n    <\/div>\n    <div class='ipsDataItem_main ipsType_medium ipsType_break'>\n        <p class='ipsType_medium ipsType_reset'>\n            {$member->link()}:\n            <a href='\nCONTENT;\n$return .= htmlspecialchars( $member->url()->setQueryString( ' tab', 'node_awards_Awards' ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' title='{$awarded->title}' data-ipsHover data-ipsHover-target='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=awards&module=awards&controller=awards&do=award&id={$awarded->id}\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n' data-ipsHover-onClick=\"false\">{$awarded->container()->title}<\/a>\n        <\/p>\n        <span class=\"ipsType_light ipsType_medium ipsType_blendLinks\">\nCONTENT;\n\n$val = ( $awarded->date instanceof \\IPS\\DateTime ) ? $awarded->date : \\IPS\\DateTime::ts( $awarded->date );$return .= $val->html();\n$return .= <<<CONTENT\n<\/span>\n    <\/div>\n<\/li>\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$member = \\IPS\\Member::load( $awarded->member );\n$return .= <<<CONTENT\n\n<li class='ipsDataItem \nCONTENT;\n\nif ( $orientation == ' horizontal' ):\n$return .= <<<CONTENT\nipsGrid_span3\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n<div class=\"ipsGrid ipsGrid_collapsePhone\">\n    <div class='ipsPad_half ipsPhotoPanel ipsPhotoPanel_tiny'>\n        \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $member, 'tiny' );\n$return .= <<<CONTENT\n\n        <div>\n            <p class='ipsType_medium ipsType_reset'>\n                {$member->link()}:\n                <a href='\nCONTENT;\n$return .= htmlspecialchars( $member->url()->setQueryString( ' tab', 'node_awards_Awards' ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' title='{$awarded->title}' data-ipsHover data-ipsHover-target='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=awards&module=awards&controller=awards&do=award&id={$awarded->id}\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n' data-ipsHover-onClick=\"false\">{$awarded->container()->title}<\/a>\n            <\/p>\n            <span class=\"ipsType_light ipsType_medium ipsType_blendLinks\">\nCONTENT;\n\n$val = ( $awarded->date instanceof \\IPS\\DateTime ) ? $awarded->date : \\IPS\\DateTime::ts( $awarded->date );$return .= $val->html();\n$return .= <<<CONTENT\n<\/span>\n        <\/div>\n    <\/div>\n<\/div>\n<\/li>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction topAwarded( $topAwardedThisWeek, $limit, $orientation='vertical' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<h3 class='ipsType_reset ipsWidget_title'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_topAwarded', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n<div class='ipsTabs ipsTabs_small ipsTabs_stretch ipsClearfix' id='elTopAwarded' data-ipsTabBar data-ipsTabBar-updateURL='false' data-ipsTabBar-contentArea='#elTopAwarded_content'>\n    <a href='#elTopAwarded' data-action='expandTabs'><i class='fa fa-caret-down'><\/i><\/a>\n    <ul role=\"tablist\" class='ipsList_reset'>\n        <li>\n            <a href='#ipsTabs_elTopAwarded_el_topAwardedWeek_panel' id='el_topAwardedWeek'\n               class='ipsTabs_item ipsTabs_activeItem' role=\"tab\" aria-selected='true'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'week', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n        <\/li>\n        <li>\n            <a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=awards&module=awards&controller=ajax&do=topAwarded&time=month&limit={$limit}&orientation={$orientation}\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n'\n               id='el_topAwardedMonth' class='ipsTabs_item' role=\"tab\" aria-selected='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'month', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n        <\/li>\n        <li>\n            <a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=awards&module=awards&controller=ajax&do=topAwarded&time=year&limit={$limit}&orientation={$orientation}\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n'\n               id='el_topAwardedYear' class='ipsTabs_item' role=\"tab\" aria-selected='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'year', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n        <\/li>\n        <li>\n            <a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=awards&module=awards&controller=ajax&do=topAwarded&time=all&limit={$limit}&orientation={$orientation}\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n'\n               id='el_topAwardedAll' class='ipsTabs_item' role=\"tab\" aria-selected='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'alltime', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n        <\/li>\n    <\/ul>\n<\/div>\n\n<section id='elTopAwarded_content' class='ipsWidget_inner'>\n    <div id=\"ipsTabs_elTopAwarded_el_topAwardedWeek_panel\" class='ipsTabs_panel'>\n        \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"widgets\", \"awards\" )->topAwardedRows( $topAwardedThisWeek, 'week', $orientation );\n$return .= <<<CONTENT\n\n    <\/div>\n<\/section>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction topAwardedRows( $results, $timeframe, $orientation='vertical' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( count( $results ) ):\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $orientation == 'vertical' ):\n$return .= <<<CONTENT\n\n<ol class='ipsDataList ipsDataList_reducedSpacing'>\n    \nCONTENT;\n\n$idx = 1;\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\nforeach ( $results as $memberId => $award ):\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\nif ( $award > 0  ):\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\n$member = \\IPS\\Member::load( $memberId );\n$return .= <<<CONTENT\n\n    <li class='ipsDataItem'>\n        <div class='ipsDataItem_icon ipsPos_middle ipsType_center ipsType_large ipsType_light'><strong>\nCONTENT;\n\n$return .= htmlspecialchars( $idx++, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/strong>\n        <\/div>\n        <div class='ipsDataItem_main ipsPhotoPanel ipsPhotoPanel_tiny'>\n            \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $member, 'tiny' );\n$return .= <<<CONTENT\n\n            <div>\n                {$member->link()}\n                <br>\n                <i class='fa fa-trophy'><\/i> <a href='{$member->url()->setQueryString( ' tab', 'node_awards_Awards' )}'>\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->language()->formatNumber( $award ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\n            <\/div>\n        <\/div>\n    <\/li>\n    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n<\/ol>\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n<div class=\"ipsGrid ipsGrid_collapsePhone\">\n    \nCONTENT;\n\n$count = 0;\n$return .= <<<CONTENT\n\n    \nCONTENT;\n\nforeach ( $results as $memberId => $award ):\n$return .= <<<CONTENT\n\n\n    \nCONTENT;\n\n$count++;\n$return .= <<<CONTENT\n\n\n    \nCONTENT;\n\n$member = \\IPS\\Member::load( $memberId );\n$return .= <<<CONTENT\n\n    <div class='ipsGrid_span3'>\n        <div class='ipsPad_half ipsPhotoPanel ipsPhotoPanel_tiny'>\n            \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $member, 'tiny' );\n$return .= <<<CONTENT\n\n            <div>\n                <p class='ipsType_reset ipsTruncate ipsTruncate_line'>\n                    {$member->link()}\n                <\/p>\n                <i class='fa fa-trophy'><\/i> <a href='{$member->url()->setQueryString( ' tab', 'node_awards_Awards')}'>\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->language()->formatNumber( $award ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a>\n            <\/div>\n        <\/div>\n    <\/div>\n    \nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n<div class='ipsPad'>\n    <p class='ipsType_reset'>\nCONTENT;\n\n$val = \"top_awarded_empty__{$timeframe}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
